## 相对引用^

通过指定提交记录哈希值的方式在 Git 中移动不太方便。在实际应用时，并没有像本程序中这么漂亮的可视化提交树供你参考，所以你就不得不用 `git log` 来查查看提交记录的哈希值。

并且哈希值在真实的 Git 世界中也会更长（译者注：基于 SHA-1，共 40 位）。例如前一关的介绍中的提交记录的哈希值可能是 `fed2da64c0efc5293610bdd892f82a58e8cbc5d8`。舌头都快打结了吧...

比较令人欣慰的是，Git 对哈希的处理很智能。你只需要提供能够唯一标识提交记录的前几个字符即可。因此我可以仅输入`fed2` 而不是上面的一长串字符。

正如我前面所说，通过哈希值指定提交记录很不方便，所以 Git 引入了相对引用。这个就很厉害了!

使用相对引用的话，你就可以从一个易于记忆的地方（比如 `bugFix` 分支或 `HEAD`）开始计算。

相对引用非常给力，这里我介绍两个简单的用法：

- 使用 `^` 向上移动 1 个提交记录
- 使用 `~<num>` 向上移动多个提交记录，如 `~3`



## 图解过程

![image-20220701174905863](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701174905863.png)

`git checkout` 是用来修改 HEAD 的指向的

也可以使用 `git checkout HEAD^` 来移动 HEAD 的指向

![image-20220701174932413](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701174932413.png)

![image-20220701175053903](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701175053903.png)



## 任务

要完成此关，切换到 `bugFix` 的父节点。这会进入分离 `HEAD` 状态。

如果你愿意的话，使用哈希值也可以过关，但请尽量使用相对引用！



## 任务实现过程

1. 初始状态

![image-20220701211025717](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701211025717.png)



2. 切换，使得 HEAD 指向 bugFix 分支
   `git switch bugFix` 或 `git checkout bugFix`

![image-20220701211154570](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701211154570.png)



3. 使得 HEAD 指向 bugFix 的父亲节点，使用相对移动的方式，或者使用哈希值的方式
   `git switch HEAD^`  或 `git switch c3` 或 `git checkout c3` 

![image-20220701211359440](02-%E7%9B%B8%E5%AF%B9%E5%BC%95%E7%94%A8%5E.assets/image-20220701211359440.png)

完成 ~ 



## 总结

使用相对移动的方式在提交树上移动

移动 HEAD 可以使用 `switch` 也可以使用 `checkout`

移动到当前节点的父亲节点：`git switch HEAD^`  或 `git checkout HEAD^`
